<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>我的 Chrome Extension 作品</title>
  <meta name="description" content="我的 Chrome Extension 作品">
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0" />
  <meta name="format-detection" content="telephone=no" />
  <link type="text/css" rel="stylesheet" href="style/index.css" />
  <link rel="chrome-webstore-item" href="https://chrome.google.com/webstore/detail/chgkpfgnhlojjpjchjcbpbgmdnmfmmil">
  <script>
    var _hmt = _hmt || [];
    (function () {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?1acdfa5410fac881da8707edf603a30d";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>
</head>

<body>
  <section id="content">
    <h1 class="canTouch">我的 Chrome 扩展作品</h1>
    <article>
      <aside><b class="name">人人2B过滤器</b>
        <span class="download">详情</span>
      </aside>
      <p class="desc">人人网的Chrome浏览器插件，帮你清扫视野里的垃圾评论。</p>
    </article>

    <article>
      <aside><b class="name">URL2QRcode</b>
        <span class="download">详情</span>
      </aside>
      <p class="desc">在电脑前坐着看网页真尼玛累，老子要把网址扫到手机里躺着看！！！</p>
    </article>

    <article>
      <aside><b class="name">百度知道变宽屏</b>
        <span class="download">详情</span>
      </aside>
      <p class="desc">一个让百度知道变宽屏的小清新插件，还能去广告，隐藏百度贴吧签名档图片哦</p>
    </article>

  </section>

  <script src="//libs.baidu.com/jquery/2.0.3/jquery.min.js"></script>
  <script>
    function createStyle(cssText) {
      const style = document.createElement('style');
      style.appendChild(document.createTextNode(cssText));
      return style;
    }

    function setRemGen() {
      var style;

      return function setRem(fontSize) {
        console.log(fontSize);
        var css = 'html{font-size:' + fontSize + 'px!important;}';

        if (!style) {
          style = createStyle(css);
          document.head.appendChild(style);
        }
        else {
          style.remove();
          style = createStyle(css);
          document.head.appendChild(style);
        }
      }
    }

    var setRem = setRemGen();

    function getRem() {
      return document.documentElement.clientWidth * devicePixelRatio / 10;
    }

    setRem(getRem());

    window.onresize = function () {
      setRem(getRem());
    };

    var crx = [
      {
        'name': 'Text Snippets',
        'desc': '管理你的常用文本，便捷插入到页面填表',
        'appid': 'nfkicldpnflkchmbaliabnplahdhipip',
        'download': 'https://chrome.google.com/webstore/detail/text-snippets/nfkicldpnflkchmbaliabnplahdhipip',
      },
      {
        'name': '有道词典划词插件++',
        'desc': '有道词典划词插件（第三方出品），带查询历史记录功能。',
        'appid': 'chgkpfgnhlojjpjchjcbpbgmdnmfmmil',
        'download': 'https://chrome.google.com/webstore/detail/%E6%9C%89%E9%81%93%E8%AF%8D%E5%85%B8chrome%E5%88%92%E8%AF%8D%E6%8F%92%E4%BB%B6/chgkpfgnhlojjpjchjcbpbgmdnmfmmil?hl=en-US',
        'inlineInstall': true
      },
      {
        'name': 'URL 二维码',
        'desc': '在电脑前坐着看网页真尼玛累，老子要把网址扫到手机里躺着看！！！',
        'download': 'https://chrome.google.com/webstore/detail/url%E4%BA%8C%E7%BB%B4%E7%A0%81/acedjabgpolnckckknijpejicghpfbnj?hl=en-US'
      },
      {
        "name": "笃笃微博媒体下载器",
        "desc": "功能亮点：1. 高速下载微博视频 2. 一键下载九宫格高清大图 3.兼容抖音网页版、西瓜视频、今日头条、知乎、好看视频、百度知道",
        "download": "https://chrome.google.com/webstore/detail/mncicekdlfpocfdpdcipjlnkiokfbjil?authuser=0&hl=zh-CN"
      },
      {
        'name': 'HSTS-somewhere',
        'desc': '按照你的设定，将指定域名添加 HSTS（走 https 请求协议）',
        'appid': 'nkaomfpaclopgkohgfilhlbdcjjmkhbk',
        'download': 'https://chrome.google.com/webstore/detail/hsts-somewhere/nkaomfpaclopgkohgfilhlbdcjjmkhbk',
      },
      {
        'name': '百度知道宽屏',
        'desc': '一个隐藏百度贴吧签名档图片的小清新插件，还能去广告，让百度知道变宽屏哦~',
        'download': 'https://chrome.google.com/webstore/detail/%E7%99%BE%E5%BA%A6%E8%B4%B4%E5%90%A7%E7%AD%BE%E5%90%8D%E6%9D%80%E6%89%8B/phbjkkhdabkbnfhkjppnkaijciobmpja?hl=en-US'
      },
      {
        'name': '人人 2B 过滤器',
        'desc': '人人网的Chrome浏览器插件，帮你清扫视野里的垃圾评论。',
        'download': 'https://code.google.com/p/rrsbfilter/'
      },
      {
        'name': 'skipGoogleUrl',
        'desc': '跳过google搜索结果页重定向',
        'download': 'http://g8up.cn/chrome/skipgoogleurl/'
      }
    ];

    var html = [];

    $.each(crx, function (index, val) {
      var name = val.name,
        desc = val.desc,
        download = val.download,
        appid = val.appid;

      var temp = '<article>\
        <aside><b class="name">{name}</b>\
          <span class="link">详情</span>\
          <span class="link inline-install" data-appid="{appid}">安装</span>\
        </aside>\
        <p class="desc">{desc}</p>\
      </article>';

      var itemHtml = temp.replace('{name}', name).replace('{desc}', desc).replace('详情', '<a href="' + (download || '##') + '" target="_blank">详情</a>');
      if (val.inlineInstall) {
        itemHtml = itemHtml.replace('{appid}', appid);
      }
      html.push(itemHtml);
    });

    $('#content h1').siblings('article').remove();
    $('#content h1').after(html.join(''));

    $('#content').on('click', '[data-appid]', function () {
      var appid = $(this).data('appid');
      var url = 'https://chrome.google.com/webstore/detail/' + appid;
      chrome.webstore.install(url);
    });

  </script>
</body>

</html>